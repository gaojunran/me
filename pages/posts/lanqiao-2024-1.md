---
title: è“æ¡¥æ¯ 2024 å¹´å›½èµ›é¢˜è§£ï¼ˆä¸€ï¼‰
date: 2025-05-23T00:00:00Z
lang: zh
duration: 12min
type: note
---

[[toc]]

> [!TIP]
> å»ºè®®å…ˆåˆ·é¢˜ï¼Œå†çœ‹é¢˜è§£ğŸ˜ï¼

## çœŸäººé‰´å®šå™¨

é¢˜ç›®ï¼š<LanqiaoLink name="çœŸäººé‰´å®šå™¨" id="18582" />

ç­¾åˆ°é¢˜ã€‚

```js
isPre ? thisIndex-- : thisIndex++
if (thisIndex === -1)
  thisIndex = 3
if (thisIndex === 4)
  thisIndex = 0
```

## ä¿„ç½—æ–¯æ–¹å—

é¢˜ç›®ï¼š<LanqiaoLink name="ä¿„ç½—æ–¯æ–¹å—" id="18583" />

ä¸€é“è€ƒå¯Ÿ `grid` çš„é¢˜ç›®ã€‚

```css
.z-shape {
  display: grid;
  /* TODOï¼šå¾…è¡¥å……ä»£ç  */
  grid-template-columns: repeat(4, 30px);
  grid-template-rows: repeat(2, 30px);
}

.l-shape {
  display: grid;
  /* TODOï¼šå¾…è¡¥å……ä»£ç  */
  grid-template-columns: repeat(3, 30px);
  grid-template-rows: repeat(2, 30px);
}
```

å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™é¢˜çš„ HTML ç»“æ„å¦‚ä¸‹ï¼š

```html
<div class="grid-container">
  <div class="z-shape">
    <div class="cell"></div>
    <div class="cell"></div>
    <div class="cell"></div>
    <div class="cell"></div>
  </div>
</div>
```

é¢˜ç›®å·²ç»ç»™å‡º `grid-container` çš„ `grid` æ’åˆ—ã€‚æˆ‘ä»¬å¯ä»¥æœ‰ä¸¤ç§æ€è·¯ï¼š

- æ€è·¯ä¸€ï¼šå®šä¹‰ `z-shape` å¦‚ä½•æ’åˆ—åœ¨ `grid-container` ä¸­ï¼š`grid-area: span 2 / span 4;` æˆ– `grid-area: 1 / 1 / 3 / 5;`ã€‚ä¹Ÿå¯ä»¥ç”¨ `grid-row` å’Œ `grid-column` åˆ†å¼€å®šä¹‰ï¼š`grid-row: 1 / 3; grid-column: 1 / 5;`ã€‚

- æ€è·¯äºŒï¼šå®šä¹‰ `z-shape` å†…éƒ¨çš„ `grid` æ’åˆ—ï¼š`grid-template-columns: repeat(4, 30px); grid-template-rows: repeat(2, 30px);`ã€‚é¢˜è§£åŒºä¹Ÿç»™å‡ºäº†`grid-template-columns: inherit; grid-template-rows: inherit;` è¿™ç§åšæ³•ï¼Œå› ä¸ºå’Œçˆ¶å…ƒç´ å®šä¹‰çš„ `grid` æ’åˆ—æ˜¯ä¸€è‡´çš„ã€‚

ä½†æ˜¯æ³¨æ„ï¼Œä¸‹é¢è¿™ç§è¯­æ³•**æ²¡æœ‰å®šä¹‰å­å…ƒç´ çš„æ’åˆ—ï¼Œåªæ˜¯ç»™å­å…ƒç´ çš„æ’åˆ—è¿›è¡Œäº†å‘½å**ï¼Œè¿™ä¹ˆå†™åœ¨æœ¬é¢˜ä¸­æ˜¯æ— æ•ˆçš„ï¼š

```css
.z-shape {
  grid-template-areas:
    'c1 c2 c3 c4'
    'c5 c6 c7 c8';
}
```

ç¬¬ä¸€ç§æ€è·¯æ˜¯æœ€ç›´è§‚çš„ï¼Œè€Œç¬¬äºŒç§æ€è·¯å€ŸåŠ© `z-shape` å†…éƒ¨çš„ `cell`ï¼Œå°† `z-shape` æ’‘å¼€ï¼Œå®ç°ä¸€æ ·çš„æ•ˆæœã€‚

æ—¶åˆ»æ³¨æ„ï¼Œå¸¦ `template` çš„æ˜¯**çˆ¶å…ƒç´ å®šä¹‰å­å…ƒç´ å¦‚ä½•æ’åˆ—**ï¼›ä¸å¸¦ `template` çš„æ˜¯**å­å…ƒç´ å®šä¹‰è‡ªå·±å¦‚ä½•æ’åˆ—åœ¨çˆ¶å…ƒç´ ä¸­**ã€‚

å¦‚æœä½ å¯¹ `grid` ä¸å¤ªç†Ÿæ‚‰ï¼Œå¯ä»¥å» MDN å®˜ç½‘æˆ–è€… Tailwind CSS å®˜ç½‘å­¦ä¹ ä¸€ä¸‹ã€‚æ²¡æœ‰æ„å¤–çš„è¯è¿™åº”è¯¥æ˜¯å›½èµ›çš„å¿…è€ƒé¢˜ã€‚

## ä¸ªäººæ¶ˆæ¯åŒæ­¥

é¢˜ç›®ï¼š<LanqiaoLink name="ä¸ªäººæ¶ˆæ¯åŒæ­¥" id="18584" />

ç¬¬ä¸€é—®æ˜¯å¾ˆç®€å•çš„è·å–æ•°æ®ï¼š

```js
const MockUrl = './data.json'
async function getUserMessage() {
  // TODOï¼šå¾…è¡¥å……ä»£ç 
  const data = await (await fetch(MockUrl)).json()
  messageState.value = data.data
  // TODOï¼šEND
}
```

å°†å¼‚æ­¥è¯·æ±‚çš„æ“ä½œå°è£…åˆ° Pinia æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥½çš„å®è·µã€‚åœ¨ä¸Šé¢çš„ä»£ç ä¸­æˆ‘ä»¬åœ¨ä¸€è¡Œä¸­ä½¿ç”¨äº†ä¸¤æ¬¡ `await`ï¼Œå®Œæˆå¼‚æ­¥è¯·æ±‚è·å–æ•°æ®ã€‚è¦æ³¨æ„å…³æ³¨**è·å–åˆ°çš„æ•°æ®æ˜¯å¦ç›´æ¥å¯ç”¨**ï¼Œåœ¨æœ¬é¢˜ä¸­è¿˜éœ€è¦è·å–å…¶ `data` å­—æ®µã€‚

ç¬¬äºŒé—®åªéœ€è¦æŠŠ store åœ¨ `setup` å‡½æ•°ä¸­å¯¼å…¥å³å¯ï¼š

```vue
<script setup>
// ...
const store = useMessageStore()
</script>

<template>
  <div class="tip">
    {{ store.messageState.length }}
  </div>
</template>
```

åŸé¢˜ä¸­çš„å†™æ³•ä¸æ˜¯`<script setup>`ï¼Œä¸è¦å¿˜è®° `return` `store` è¿™ä¸ªå˜é‡ï¼Œä»¥åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ã€‚æ³¨æ„ `store` é‡Œå¯¼å‡ºçš„å“åº”å¼å˜é‡ä¸éœ€è¦è°ƒç”¨ `value` ç›´æ¥å°±å¯ä»¥ä½¿ç”¨ã€‚

å‰ä¸¤é—®å¦‚æœä½ ç†Ÿæ‚‰ Pinia å‡ åˆ†é’Ÿå°±å¯ä»¥åšå¯¹ï¼Œå¦‚æœä¸ç†Ÿæ‚‰å¯ä»¥å» [å®˜æ–¹æ–‡æ¡£](https://pinia.vuejs.org/introduction.html) å­¦ä¹ ä¸€ä¸‹ã€‚

ç¬¬ä¸‰é—®ç”¨ç®€å•çš„ `v-for` å³å¯ï¼Œåœ¨æ­¤ä¸å†èµ˜è¿°ã€‚

## å·¥ä½œåè°ƒ

é¢˜ç›®ï¼š<LanqiaoLink name="å·¥ä½œåè°ƒ" id="18585" />

**æ±‚å·®é›†ï¼š**

```js
function difference(a, b) {
  return new XSet([...a].filter(it => !b.has(it)))
}
```

å·®é›†ä¹Ÿå°±æ˜¯ä» `a` ä¸­å»æ‰ `b` ä¸­æœ‰çš„å…ƒç´ ï¼Œç”¨ `filter` è¿‡æ»¤å³å¯ã€‚

**æ±‚äº¤é›†ï¼š**

```js
function intersection(a, ...bSets) {
  // ä»aä¸­ç­›é€‰å‡ºåœ¨bSetsçš„æ¯ä¸ªsetéƒ½å‡ºç°çš„å…ƒç´ 
  return new XSet([...a].filter(it => bSets.every(set => set.has(it))))
}
```

è¿™é‡Œå°±ä¸Šéš¾åº¦äº†ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦æ±‚çš„æ˜¯ **å¤šä¸ªé›†åˆçš„** äº¤é›†ï¼Œä¼ å…¥çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå˜é•¿å‚æ•°ã€‚æˆ‘ä»¬çš„åŸºæœ¬æ€è·¯æ˜¯ä» `a` ä¸­ç­›é€‰å‡ºåœ¨ `bSets` çš„æ¯ä¸ª `set` éƒ½å‡ºç°çš„å…ƒç´ ã€‚

å½“ç„¶å¤šä¸ªé›†åˆçš„äº¤é›†ä¹Ÿæ˜¯ä¸¤ä¸ªé›†åˆäº¤é›†çš„ä¸€ä¸ªæ¨å¹¿ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨ `reduce` æ¥è¿›è¡Œå½’çº¦ï¼Œè®© `bSets` çš„æ¯ä¸ªé›†åˆéƒ½å’Œ `a` åšä¸€æ¬¡äº¤é›†æ“ä½œï¼š

```js
function intersection2(a, ...bSets) {
  return new XSet(bSets.reduce((acc, cur) =>
    [...acc].filter(it => cur.has(it)), [...a]))
}
```

**æ±‚å¹¶é›†ï¼š**

æ±‚å¹¶é›†å°±ä¸èƒ½å†ç”¨ `filter` äº†ï¼Œå› ä¸ºå¾—åˆ°çš„å…ƒç´ å¯èƒ½æ¯” `a` è¿˜è¦æ›´å¤šã€‚æœ‰ä¸€ä¸ªéå¸¸ç®€å•çš„æ€è·¯æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥æ‰“æ•£æ‰€æœ‰é›†åˆä¸­çš„å…ƒç´ ï¼Œå°†å…¶æ”¾åœ¨ä¸€ä¸ªæ•°ç»„é‡Œï¼Œå¹¶è½¬æˆé›†åˆæ¥è¿›è¡Œå»é‡ï¼Œå°±å¾—åˆ°äº†å®ƒä»¬çš„å¹¶é›†ï¼š

```js
function union(a, ...bSets) {
  return new XSet([...a, ...bSets.flatMap(set => [...set])])
}
```

è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ï¼Œå› ä¸º `XSet` ç»§æ‰¿è‡ª `Set`ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ç”¨ `...` æ¥æ‰“æ•£é›†åˆä¸­çš„å…ƒç´ ã€‚ä½†æ˜¯ `flat` æ˜¯ä¸æ”¯æŒå¯¹å­å…ƒç´ æ˜¯éæ•°ç»„å¯¹è±¡ï¼ˆå¦‚æ™®é€šçš„å¯è¿­ä»£å¯¹è±¡ï¼Œå¦‚é›†åˆï¼‰æ“ä½œçš„ï¼Œä¾‹å¦‚ï¼š

```js
[new Set([1, 2]), new Set([3, 4])].flat()
```

å®é™…ä¸Šä¸ä¼šå±•å¹³æˆ `[1, 2, 3, 4]`ï¼Œè€Œæ˜¯ä¿æŒåŸæ ·ï¼š `[Set(2), Set(2)]`ï¼ˆğŸ“¢ è¿™æ˜¯éå¸¸åç›´è§‰çš„ï¼Œå€¼å¾—æ³¨æ„ï¼‰ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦ç”¨ `flatMap` æ¥ä»£æ›¿ `flat`ï¼Œå…ˆå°†å­å…ƒç´ è½¬æˆæ•°ç»„å†è¿›è¡Œå±•å¹³ã€‚

æ±‚å¹¶é›†è¿˜æœ‰ä¸€ç§æ€è·¯ï¼Œä½¿ç”¨å½’çº¦çš„æ–¹æ³•é€æ¸æ„é€ å‡ºæ•°ç»„æ¥ï¼š

```js
function union2(a, ...bSets) {
  return new XSet(bSets.reduce((acc, cur) => {
    return [...acc, ...cur] // é‡å¤ä¹Ÿæ²¡å…³ç³»ï¼ŒXSetä¼šè‡ªåŠ¨å»é‡
  }, [...a]))
}
```

æœ¬é¢˜æ¯”è¾ƒæ·±åˆ»åœ°è€ƒå¯Ÿäº†å‡½æ•°å¼ç¼–ç¨‹çš„çŸ¥è¯†ã€‚äº‹å®ä¸Š ES çš„æ–°ç‰ˆæœ¬ä¹Ÿä¸º `Set` æä¾›äº†é›†åˆè¿ç®—ã€‚
